{"remainingRequest":"C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\src\\components\\Blocks\\BlockCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\src\\components\\Blocks\\BlockCard.vue","mtime":1612279165961},{"path":"C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610394499952},{"path":"C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\node_modules\\babel-loader\\lib\\index.js","mtime":1610394494155},{"path":"C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610394499952},{"path":"C:\\Development\\IRIS-Dev-proteus\\hoesnelwasik_frontend-develop\\node_modules\\vue-loader\\lib\\index.js","mtime":1610394500599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7DQppbXBvcnQgeyBmaWVsZFN0YXR1cyB9IGZyb20gJy4vZmllbGRTdGF0dXMnOw0KaW1wb3J0IHVuaXFCeSBmcm9tICcuLi8uLi9IZWxwZXJzL3VuaXFCeSc7DQppbXBvcnQge3Jvd0NsaWNrZWR9IGZyb20gIi4uL05hdmlnYXRpb24vbmF2aWdhdGlvbiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnQmxvY2tDYXJkJywNCiAgICBwcm9wczogew0KICAgICAgICBibG9jazogQXJyYXkNCiAgICB9LA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBmaWVsZHM6IFsNCiAgICAgICAgICAgICAgICB7IGtleTogJ2ZpZWxkbmFtZXNob3J0JywgbGFiZWw6ICdWZWxkJyB9LA0KICAgICAgICAgICAgICAgIHsga2V5OiAnbnVtYmVyb2Z0ZWFtcycsIGxhYmVsOiAnQWFudGFsIHBsb2VnZW4nIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICdmaWVsZF9zdGFydHRpbWUnLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1N0YXJ0dGlqZCcsDQogICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogKHRpbWUsIGtleSwgZmllbGQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgrZmllbGQuc3RhdHVzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkU3RhdHVzW2ZpZWxkLnN0YXR1c10ubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbW92ZVNlY29uZHNGaWVsZHModGltZSk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHRkQ2xhc3M6ICh0aW1lLCBrZXksIGZpZWxkKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuc3RhdHVzID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZFN0YXR1c1tmaWVsZC5zdGF0dXNdLmNsYXNzOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgYmxvY2tUaXRsZSgpIHsNCiAgICAgICAgICAgIHJldHVybiAoDQogICAgICAgICAgICAgICAgJ0Jsb2sgJyArDQogICAgICAgICAgICAgICAgdGhpcy5ibG9ja1swXS5ibG9ja251bWJlciArDQogICAgICAgICAgICAgICAgJzogJyArDQogICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTZWNvbmRzKHRoaXMuYmxvY2tbMF0uc3RhcnR0aW1lKQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCiAgICAgICAgdW5pcXVlQmxvY2soKSB7DQogICAgICAgICAgICByZXR1cm4gdW5pcUJ5KHRoaXMuYmxvY2ssICdmaWVsZG5hbWVzaG9ydCcpOw0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHJlbW92ZVNlY29uZHNGaWVsZHMoc3RhcnR0aW1lKSB7DQogICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgc3RhcnR0aW1lID09PSBudWxsIHx8DQogICAgICAgICAgICAgICAgc3RhcnR0aW1lID09PSB0aGlzLmJsb2NrWzBdLnN0YXJ0dGltZSB8fA0KICAgICAgICAgICAgICAgIHRoaXMuaXNOdW1iZXIoc3RhcnR0aW1lKQ0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlU2Vjb25kcyh0aGlzLmJsb2NrWzBdLnN0YXJ0dGltZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbW9tZW50KHN0YXJ0dGltZSkuZm9ybWF0KCdIOm1tJyk7DQogICAgICAgIH0sDQogICAgICAgIHJlbW92ZVNlY29uZHMoc3RhcnR0aW1lKSB7DQogICAgICAgICAgICByZXR1cm4gc3RhcnR0aW1lLnNsaWNlKDAsIHN0YXJ0dGltZS5sYXN0SW5kZXhPZignOicpKTsNCiAgICAgICAgfSwNCiAgICAgICAgaXNOdW1iZXIobnVtKSB7DQogICAgICAgICAgICByZXR1cm4gIWlzTmFOKG51bSkgJiYgaXNGaW5pdGUobnVtKTsNCiAgICAgICAgfSwNCiAgICAgICAgb3BlblJvdyhyZWNvcmQpIHsNCiAgICAgICAgICAgIHJvd0NsaWNrZWQodGhpcy4kcm91dGVyLCByZWNvcmQpOw0KICAgICAgICB9DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["BlockCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlockCard.vue","sourceRoot":"src/components/Blocks","sourcesContent":["<template>\r\n    <b-card\r\n        header-tag=\"header\"\r\n        header-bg-variant=\"dark\"\r\n        header-text-variant=\"white\"\r\n        no-body\r\n        class=\"table-responsive\"\r\n    >\r\n        <template v-slot:header\r\n            ><h2>{{ blockTitle }}</h2></template\r\n        >\r\n        <b-table\r\n            class=\"clickable\"\r\n            striped\r\n            hover\r\n            head-variant=\"dark\"\r\n            :items=\"uniqueBlock\"\r\n            :fields=\"fields\"\r\n            @row-clicked=\"openRow\"\r\n        >\r\n        </b-table>\r\n    </b-card>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport { fieldStatus } from './fieldStatus';\r\nimport uniqBy from '../../Helpers/uniqBy';\r\nimport {rowClicked} from \"../Navigation/navigation\";\r\n\r\nexport default {\r\n    name: 'BlockCard',\r\n    props: {\r\n        block: Array\r\n    },\r\n    data() {\r\n        return {\r\n            fields: [\r\n                { key: 'fieldnameshort', label: 'Veld' },\r\n                { key: 'numberofteams', label: 'Aantal ploegen' },\r\n                {\r\n                    key: 'field_starttime',\r\n                    label: 'Starttijd',\r\n                    formatter: (time, key, field) => {\r\n                        if (+field.status) {\r\n                            return fieldStatus[field.status].name;\r\n                        }\r\n                        return this.removeSecondsFields(time);\r\n                    },\r\n                    tdClass: (time, key, field) => {\r\n                        if (field.status > 0) {\r\n                            return fieldStatus[field.status].class;\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        };\r\n    },\r\n    computed: {\r\n        blockTitle() {\r\n            return (\r\n                'Blok ' +\r\n                this.block[0].blocknumber +\r\n                ': ' +\r\n                this.removeSeconds(this.block[0].starttime)\r\n            );\r\n        },\r\n        uniqueBlock() {\r\n            return uniqBy(this.block, 'fieldnameshort');\r\n        }\r\n    },\r\n    methods: {\r\n        removeSecondsFields(starttime) {\r\n            if (\r\n                starttime === null ||\r\n                starttime === this.block[0].starttime ||\r\n                this.isNumber(starttime)\r\n            ) {\r\n                return this.removeSeconds(this.block[0].starttime);\r\n            }\r\n            return moment(starttime).format('H:mm');\r\n        },\r\n        removeSeconds(starttime) {\r\n            return starttime.slice(0, starttime.lastIndexOf(':'));\r\n        },\r\n        isNumber(num) {\r\n            return !isNaN(num) && isFinite(num);\r\n        },\r\n        openRow(record) {\r\n            rowClicked(this.$router, record);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style type=\"scss\">\r\n.stat_official {\r\n    color: green;\r\n    font-weight: bold;\r\n}\r\n.stat_protest {\r\n    color: red;\r\n    font-weight: bold;\r\n}\r\n.stat_unofficial {\r\n    color: orange;\r\n    font-weight: bold;\r\n}\r\n.stat_started,\r\n.stat_finishing {\r\n    animation: blinker 2s linear infinite;\r\n    color: green;\r\n    font-weight: bold;\r\n}\r\n.stat_canceled {\r\n    color: #737373;\r\n}\r\n@keyframes blinker {\r\n    50% {\r\n        opacity: 0.4;\r\n    }\r\n}\r\n</style>\r\n"]}]}